<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="ie=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="author" content="George Metaxas ">
<meta name="description" content="Android Studio Unit Testing Support by compscigrad is licensed under CC BY-NC-SA 2.0
  Kotest is a Kotlin multiplatform testing framework and assertions library. It is a powerful framework, that can completely replace the default kotlin test framework, which is based on the popular JUnit and TestNG. Furthermore, Kotest supports some more advanced features, such as property-based testing and its own assertions framework.
An interesting question may be why would anyone use kotest over the standard, popular JUnit (for example) framework?" />
<meta name="keywords" content="homepage, blog, android, development, kotlin, java, testing, ci, mobile, android, kotest, unit testing, bdd, kotlin, metador" />
<meta name="robots" content="noodp" />
<meta name="theme-color" content="" />
<link rel="canonical" href="https://gmetal.dev/posts/using-kotest/" />


    <title>
        
            Using kotest in your Android project :: gmetal&#39;s dev blog  — A spiral tower
        
    </title>



<link href="https://cdnjs.cloudflare.com/ajax/libs/flag-icon-css/3.5.0/css/flag-icon.min.css" rel="stylesheet"
    type="text/css">






<link rel="stylesheet" href="/main.c46cbca46fa76c0fcd3da8313ecf4adee5fb3ffb0288c0902d7e90aead220d79.css">
<link rel="stylesheet" href="/admonition.css">
<link rel="stylesheet" href="https://gmetal-blog.web.app/other.css">






<meta itemprop="name" content="Using kotest in your Android project">
<meta itemprop="description" content="Android Studio Unit Testing Support by compscigrad is licensed under CC BY-NC-SA 2.0
  Kotest is a Kotlin multiplatform testing framework and assertions library. It is a powerful framework, that can completely replace the default kotlin test framework, which is based on the popular JUnit and TestNG. Furthermore, Kotest supports some more advanced features, such as property-based testing and its own assertions framework.
An interesting question may be why would anyone use kotest over the standard, popular JUnit (for example) framework?"><meta itemprop="datePublished" content="2021-08-28T16:00:00&#43;00:00" />
<meta itemprop="dateModified" content="2021-08-28T16:00:00&#43;00:00" />
<meta itemprop="wordCount" content="3053"><meta itemprop="image" content="https://gmetal.dev/"/>
<meta itemprop="keywords" content="android,kotest,unit testing,bdd,kotlin,metador," />
<meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://gmetal.dev/"/>

<meta name="twitter:title" content="Using kotest in your Android project"/>
<meta name="twitter:description" content="Android Studio Unit Testing Support by compscigrad is licensed under CC BY-NC-SA 2.0
  Kotest is a Kotlin multiplatform testing framework and assertions library. It is a powerful framework, that can completely replace the default kotlin test framework, which is based on the popular JUnit and TestNG. Furthermore, Kotest supports some more advanced features, such as property-based testing and its own assertions framework.
An interesting question may be why would anyone use kotest over the standard, popular JUnit (for example) framework?"/>




    <meta property="og:title" content="Using kotest in your Android project" />
<meta property="og:description" content="Android Studio Unit Testing Support by compscigrad is licensed under CC BY-NC-SA 2.0
  Kotest is a Kotlin multiplatform testing framework and assertions library. It is a powerful framework, that can completely replace the default kotlin test framework, which is based on the popular JUnit and TestNG. Furthermore, Kotest supports some more advanced features, such as property-based testing and its own assertions framework.
An interesting question may be why would anyone use kotest over the standard, popular JUnit (for example) framework?" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://gmetal.dev/posts/using-kotest/" /><meta property="og:image" content="https://gmetal.dev/"/><meta property="article:section" content="posts" />
<meta property="article:published_time" content="2021-08-28T16:00:00&#43;00:00" />
<meta property="article:modified_time" content="2021-08-28T16:00:00&#43;00:00" /><meta property="og:site_name" content="gmetal&#39;s dev blog" />







    <meta property="article:published_time" content="2021-08-28 16:00:00 &#43;0000 UTC" />








    </head>

    
        <body>
    
    
        <div class="container">
            <header class="header">
    <span class="header__inner">
        <a href="/" style="text-decoration: none;">
    <div class="logo">
        
            <span class="logo__mark">></span>
            <span class="logo__text">A spiral tower</span>
            <span class="logo__cursor" style=
                  "
                   
                   ">
            </span>
        
    </div>
</a>


        <span class="header__right">
            
                <nav class="menu">
    <ul class="menu__inner"><li><a href="/about">About</a></li><li><a href="/posts">Blog</a></li><li><a href="/projects">Projects</a></li>
    </ul>
</nav>

                <span class="menu-trigger">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                        <path d="M0 0h24v24H0z" fill="none"/>
                        <path d="M3 18h18v-2H3v2zm0-5h18v-2H3v2zm0-7v2h18V6H3z"/>
                    </svg>
                </span>
            
                <span class="theme-toggle not-selectable"><svg class="theme-toggler" width="24" height="24" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
   <path d="M22 41C32.4934 41 41 32.4934 41 22C41 11.5066 32.4934 3 22
   3C11.5066 3 3 11.5066 3 22C3 32.4934 11.5066 41 22 41ZM7 22C7
   13.7157 13.7157 7 22 7V37C13.7157 37 7 30.2843 7 22Z"/>
 </svg></span>
        </span>
    </span>
</header>


            <div class="content">
                
  <main class="post">

    <div class="post-info">
      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-clock">
          <circle cx="12" cy="12" r="10"></circle>
          <polyline points="12 6 12 12 16 14"></polyline>
        </svg>
        15 minutes

        
      </p>
    </div>

    <article>
      <h1 class="post-title">
        <a href="https://gmetal.dev/posts/using-kotest/">Using kotest in your Android project</a>
      </h1>

      

      

      

      <div class="post-content">
        <figure>
    <img src="/images/17999323626_9a0ee192aa_o.jpg"/> <figcaption>
            <p>
                    <a href="https://www.flickr.com/photos/48784629@N00/17999323626">Android Studio Unit Testing Support by compscigrad is licensed under CC BY-NC-SA 2.0</a></p>
        </figcaption>
</figure>

<p><a href="https://kotest.io/">Kotest</a> is a Kotlin multiplatform testing framework and assertions library. It is a powerful framework, that can completely replace the default <a href="https://kotlinlang.org/api/latest/kotlin.test/">kotlin test</a> framework, which is based on the popular <a href="https://junit.org/">JUnit</a> and <a href="https://testng.org/">TestNG</a>. Furthermore, Kotest supports some more advanced features, such as <a href="https://kotest.io/docs/proptest/property-based-testing.html">property-based testing</a> and its own <a href="https://kotest.io/docs/assertions/assertions.html">assertions framework</a>.</p>
<p>An interesting question may be why would anyone use kotest over the standard, popular JUnit (for example) framework? The main reasons are the following:</p>
<ul>
<li>kotest has built-in support for coroutines</li>
<li>it offers its own expressive assertions library</li>
<li>it has a multitude of extensions that bring all sorts of goodies in</li>
<li>it supports many different <a href="https://kotest.io/docs/framework/testing-styles.html">testing styles</a></li>
</ul>
<h2 id="configuring-kotest-in-your-android-project">Configuring Kotest in your Android project</h2>
<p>I had been using JUnit5 in one of my hobby projects, the <a href="https://github.com/gmetal/metador">metador library</a>, and I wanted to replace it with kotest. The instructions found in the Android section of the <a href="https://kotest.io/docs/quickstart">kotest quickstart</a> are pretty well written, can even guide into installing some of the most advanced features. I opted for the <a href="https://kotest.io/docs/assertions/assertions.html">assertions library</a> and the <a href="https://kotest.io/docs/extensions/mockserver.html">mockserver extension</a>, in order to replace the okhttp mock webserver implementation I had been using.</p>
<p>Therefore, the following dependencies were added in the module&rsquo;s build.gradle:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">    testImplementation <span style="color:#e6db74">&#34;io.kotest:kotest-runner-junit5:$kotestVersion&#34;</span>
    testImplementation <span style="color:#e6db74">&#34;io.kotest:kotest-assertions-core:$kotestVersion&#34;</span>
    testImplementation <span style="color:#e6db74">&#34;io.kotest.extensions:kotest-extensions-mockserver:1.0.0&#34;</span>
</code></pre></div><p>together with a <code>testOptions</code> in the <code>android</code> section of the module&rsquo;s build gradle:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">    testOptions <span style="color:#f92672">{</span>
        unitTests<span style="color:#f92672">.</span><span style="color:#a6e22e">all</span> <span style="color:#f92672">{</span>
            useJUnitPlatform<span style="color:#f92672">()</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
</code></pre></div><p>to instruct Kotest to use the underlying junit platform.</p>
<h2 id="choosing-a-kotest-test-style---using-behavior-specs">Choosing a Kotest test style - Using Behavior Specs</h2>
<p>This post discusses the use of the <a href="https://kotest.io/docs/framework/testing-styles.html#behavior-spec">Behaviour Spec</a> testing style, one of Kotest&rsquo;s many supported styles. Its greatest advanced is that it enforces an order in the tests, and makes the test output readable and almost documentation-like. It is the tools used for <a href="https://en.wikipedia.org/wiki/Behavior-driven_development">Behaviour Driven Development</a>. The tests follow a specific scenario-driven narrative using the following structure:</p>
<pre><code>Given: the initial context at the beginning of the scenario, in one or more clauses;
When: the event that triggers the scenario;
Then: the expected outcome, in one or more clauses.
</code></pre><p>Kotest offers the <code>Given</code>, <code>And</code>, <code>When</code>, <code>Then</code> functions that support the above structure. These functions are used in a nested fashion (<code>And</code> has been added to offer an additional level of nesting if required). There are also corresponding lowercase functions, but since <code>when</code> is a Kotlin-reserved keyword and requires backticks, the uppercase functions seem to be a better alternative.</p>
<p>The nesting functionality of the BehaviorSpec impacts how certain features have been implemented. If you&rsquo;ve been using JUnit (4 or 5), then you should be familiar with the <a href="https://www.baeldung.com/junit-before-beforeclass-beforeeach-beforeall">@Before, @After, @BeforeEach, @AfterEach</a> annotations. They are used for marking specific functions to be called before and after the unit tests. Kotest offers similar functionality using <code>before</code> and <code>after</code> prefixed function blocks. These functions are:</p>
<ul>
<li>beforeAny/afterAny - executed before/after any container or a test (any of the <code>Given</code>, <code>When</code>, <code>And</code>, <code>Then</code> functions). Any such block will be executed before/after the function that follows</li>
<li>beforeEach/afterEach - executed before/after a test case (the <code>Then</code> function). Any such block will be executed before/after the test case that follows</li>
<li>beforeContainer/afterContainer - executed before/after a container (one of the <code>Given</code>, <code>When</code>, <code>And</code> functions). Any such block will be executed before/after the container that follows</li>
<li>beforeTest/afterTest - executed before/after a test case (the <code>Then</code> function). Any such block will be executed before/after the test case that follows</li>
<li>beforeSpec/afterSpec - executed before/after each spec (e.g. after the execution of a Spec subclass)</li>
</ul>
<p>To better understand how the before/after functions work (and when they are executed), you can have a go at running the following example BehaviorSpec, which includes all the before/after functions at various levels:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ContainerExampleTest</span> : BehaviorSpec({
    beforeContainer {
        println(<span style="color:#e6db74">&#34;Inside the root beforeContainer&#34;</span>)
    }
    afterContainer {
        println(<span style="color:#e6db74">&#34;After the root beforeContainer&#34;</span>)
    }
    println(<span style="color:#e6db74">&#34;Before the root Given&#34;</span>)

    beforeSpec {
        println(<span style="color:#e6db74">&#34;Inside the root beforeSpec&#34;</span>)
    }

    afterSpec {
        println(<span style="color:#e6db74">&#34;Inside the root afterSpec&#34;</span>)
    }

    beforeAny {
        println(<span style="color:#e6db74">&#34;Inside the root beforeAny&#34;</span>)
    }

    afterAny {
        println(<span style="color:#e6db74">&#34;Inside the root afterAny&#34;</span>)
    }

    beforeEach {
        println(<span style="color:#e6db74">&#34;Inside the root beforeEach&#34;</span>)
    }

    afterEach {
        println(<span style="color:#e6db74">&#34;Inside the root afterEach&#34;</span>)
    }

    Given(<span style="color:#e6db74">&#34;a String&#34;</span>) {
        <span style="color:#66d9ef">val</span> aString = <span style="color:#e6db74">&#34;asdf&#34;</span>
        beforeContainer {
            println(<span style="color:#e6db74">&#34;Inside the beforeContainer for: And the String is 4 characters long&#34;</span>)
        }
        afterContainer {
            println(<span style="color:#e6db74">&#34;Inside the afterContainer for: And the String is 4 characters long&#34;</span>)
        }
        println(<span style="color:#e6db74">&#34;Inside the: Given a String&#34;</span>)

        And(<span style="color:#e6db74">&#34;the String is 4 characters long&#34;</span>) {
            beforeContainer {
                println(<span style="color:#e6db74">&#34;Inside the beforeContainer for: And the toUpperCase method is called&#34;</span>)
            }
            afterContainer {
                println(<span style="color:#e6db74">&#34;Inside the afterContainer for: And the toUpperCase method is called&#34;</span>)
            }
            println(<span style="color:#e6db74">&#34;Inside the: And the String is 4 characters long&#34;</span>)

            When(<span style="color:#e6db74">&#34;the toUpperCase method is called&#34;</span>) {
                beforeTest {
                    println(<span style="color:#e6db74">&#34;Inside the beforeTest for: Then it returns the string in all caps&#34;</span>)
                }
                afterTest {
                    println(<span style="color:#e6db74">&#34;Inside the afterTest for:  Then it returns the string in all caps&#34;</span>)
                }
                println(<span style="color:#e6db74">&#34;Inside the: When the toUpperCase method is called&#34;</span>)
                <span style="color:#66d9ef">val</span> result = aString.toUpperCase()
                Then(<span style="color:#e6db74">&#34;it returns the string in all caps&#34;</span>) {
                    println(<span style="color:#e6db74">&#34;Inside the: Then it returns the string in all caps&#34;</span>)

                    result shouldBe <span style="color:#e6db74">&#34;ASDF&#34;</span>
                }
            }
            When(<span style="color:#e6db74">&#34;length property is called&#34;</span>) {
                beforeTest {
                    println(<span style="color:#e6db74">&#34;Inside the beforeTest for: Then it returns 4&#34;</span>)
                }
                afterTest {
                    println(<span style="color:#e6db74">&#34;Inside the afterTest for: Then it returns 4&#34;</span>)
                }
                println(<span style="color:#e6db74">&#34;Inside the: When length property is called&#34;</span>)

                <span style="color:#66d9ef">val</span> result = aString.length
                Then(<span style="color:#e6db74">&#34;it returns 4&#34;</span>) {
                    println(<span style="color:#e6db74">&#34;Inside the: Then it returns 4&#34;</span>)
                    result shouldBe <span style="color:#ae81ff">4</span>
                }
            }
        }
    }
})

</code></pre></div><p>Running the above test produces the following output:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-text" data-lang="text">
Before the root Given
Inside the root beforeSpec

Inside the root beforeContainer
Inside the root beforeAny

Inside the: Given a String

Inside the root beforeContainer
Inside the root beforeAny
Inside the beforeContainer for: And the String is 4 characters long
Inside the: And the String is 4 characters long

Inside the root beforeContainer
Inside the root beforeAny
Inside the beforeContainer for: And the String is 4 characters long
Inside the beforeContainer for: And the toUpperCase method is called
Inside the: When the toUpperCase method is called

Inside the root beforeAny
Inside the root beforeEach
Inside the beforeTest for: Then it returns the string in all caps
Inside the: Then it returns the string in all caps
Inside the root afterAny
Inside the root afterEach
Inside the afterTest for:  Then it returns the string in all caps

After the root beforeContainer
Inside the root afterAny
Inside the afterContainer for: And the String is 4 characters long
Inside the afterContainer for: And the toUpperCase method is called


Inside the root beforeContainer
Inside the root beforeAny
Inside the beforeContainer for: And the String is 4 characters long
Inside the beforeContainer for: And the toUpperCase method is called
Inside the: When length property is called

Inside the root beforeAny
Inside the root beforeEach
Inside the beforeTest for: Then it returns 4
Inside the: Then it returns 4
Inside the root afterAny
Inside the root afterEach
Inside the afterTest for: Then it returns 4

After the root beforeContainer
Inside the root afterAny
Inside the afterContainer for: And the String is 4 characters long
Inside the afterContainer for: And the toUpperCase method is called

After the root beforeContainer
Inside the root afterAny
Inside the afterContainer for: And the String is 4 characters long

After the root beforeContainer
Inside the root afterAny

Inside the root afterSpec

</code></pre></div><p>In any container, where you would want to execute the same code before each of the following containers of the same level, you would want to use a <code>beforeContainer</code> function. Be careful with the nesting of the <code>beforeContainer</code> and the <code>afterContainer</code> functions. All <code>beforeContainer</code> methods found in the tree leading towards the root node will be executed, as can be seen by the preceeding exaxmple. To group code that will be executed before the actual test cases (the <code>Then</code> function calls) use <code>beforeTest</code> and <code>afterTest</code>. These two sets of functions should cover the majority of your needs, in regards to executing code before and after tests.</p>
<h2 id="migrating-existing-tests">Migrating existing tests</h2>
<p>The process of migrating existing unit tests to Kotest is pretty straight forward. Just select the testing style that works best for you, and apply it to all of your unit tests. Migrating to the BehaviorSpec style however, requires a bit more work especially in the beginning, in order to figure out how Kotest works and what is the approach to use.</p>
<p>If you&rsquo;ve been writing tests for some time, you should have heard about the simple <a href="https://java-design-patterns.com/patterns/arrange-act-assert/">arrange, act, assert</a> pattern. This is a very simplistic &ldquo;design pattern&rdquo; which suggests that you should be splitting your unit tests in three distinct parts:</p>
<ul>
<li>the arrange part: contains all statements required for setting up the test (e.g. setting the internal state of the test object and its dependencies)</li>
<li>the act part: contains all the statements required for executing the test. This should be limited to a few statements (usually no more than one or two)</li>
<li>the assert part: contains all the statements required for verifying the result of the test</li>
</ul>
<p>Tests adhering to the above pattern can be easily converted. The structure of a BehaviorSpec test usually consists of one or more <code>Given</code> function calls, which contain one or more <code>And</code> or <code>When</code> nested function calls. <code>And</code> function calls may include nested <code>When</code> or <code>Then</code> function calls. <code>When</code> function calls may in turn contain <code>And</code> or <code>Then</code> function calls. Finally, <code>Then</code> function calls do not contain any other nested functions - they are at the bottom of the chain. Thus the following are valid examples of nesting function calls in BehaviorSpec tests:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin">Given {
    When {
        Then {

        }
    }
}
Given {
    And {
        When {
            Then {

            }
        }
    }
}
Given {
    And {
        Then {

        }
    }
}
Given {
    And {
        When {
            And {
                Then {

                }
            }
        }
    }
}
</code></pre></div><p><code>Then</code> blocks are always the inner-most nested elements, and are thus the natural containers of all the <strong>assert-related statements</strong>. All <strong>act-related statements</strong> must be placed in the exact preceding <code>And</code> or <code>When</code> block of the corresponding <code>Then</code>. Thus, <strong>arrange-related statements</strong> will be placed inside <code>Given</code>, <code>When</code> or <code>And</code> blocks, which must precede the <strong>act-related</strong> and <strong>assert-related</strong> statements. Because of the nesting implementation of BehaviorSpec tests, and because we want to avoid duplicating the initialisation parts of our tests, we should be placing our <strong>arrange-related statements</strong> inside <code>beforeContainer</code> blocks, such that they are executed before each of the nested <code>When</code>, <code>And</code> blocks.</p>
<h2 id="basic-example">Basic example</h2>
<p>Let&rsquo;s have a look at a few actual examples of unit tests converted to BehaviorSpec. The code (and conversion history) can be found <a href="https://github.com/gmetal/metador">here</a>. The example below presents a very basic unit test. The class to be tested, does not use any external dependencies (hence no mocking is required) and has only a single function that is exposed with very simple signature.</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#a6e22e">@ExperimentalCoroutinesApi</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HtmlMetaExtractorTest</span> {
    <span style="color:#66d9ef">lateinit</span> <span style="color:#66d9ef">var</span> htmlMetaExtractorInTest: HtmlMetaExtractor

    <span style="color:#a6e22e">@BeforeEach</span>
    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">setup</span>() {
        htmlMetaExtractorInTest = HtmlMetaExtractor()
    }

    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">`empty string inputs, produce a success with an empty map`</span>() = runBlockingTest {
        <span style="color:#66d9ef">val</span> response = htmlMetaExtractorInTest.parseResource(<span style="color:#e6db74">&#34;&#34;</span>)

        assertThat(response, _is(emptyMap()))
    }

    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">`an HTML input where the meta key attribute cannot be determined, produces an empty map`</span>() =
        runBlockingTest {
            <span style="color:#66d9ef">val</span> response =
                htmlMetaExtractorInTest.parseResource(HTML_DOCUMENT_WITH_UNKNOWN_ATTRIBUTE_META)

            assertThat(response, _is(emptyMap()))
        }

    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">`an HTML input with all supported the meta key attributes, produces a map with entries for each meta element`</span>() =
        runBlockingTest {
            <span style="color:#66d9ef">val</span> response =
                htmlMetaExtractorInTest.parseResource(HTML_DOCUMENT_WITH_ALL_SUPPORTED_TYPES_META)

            assertThat(
                response,
                _is(
                    mapOf(
                        <span style="color:#e6db74">&#34;key-1&#34;</span> to <span style="color:#e6db74">&#34;value&#34;</span>,
                        <span style="color:#e6db74">&#34;key-2&#34;</span> to <span style="color:#e6db74">&#34;value&#34;</span>,
                        <span style="color:#e6db74">&#34;key-3&#34;</span> to <span style="color:#e6db74">&#34;value&#34;</span>
                    )

                )
            )
        }
}
</code></pre></div><p>Let&rsquo;s dissect the code of the above unit test class, and discuss how it can be converted to BehaviorSpec. First of all, when porting our code to the Kotest framework, we stop worrying about coroutines - no need for <code>@ExperimentalCoroutinesApi</code> and for littering all our test cases with <code>runBlocking</code>, as it supports coroutines natively. We may need to use the <code>TestCoroutineDispatcher</code>, if we require passing the coroutine dispatcher as a parameter to on of our method calls.</p>
<p>Next, (and since the code will be ported to BehaviorSpec) the <code>@BeforeEach</code> <code>setup</code> function will be replaced with an appropriate <code>beforeContainer</code> method call, which will still be responsible for reinitialising the object in test, before the test is executed. These tests have a merged <code>arrange-act</code> section, which will be directly moved inside a <code>When</code> block. The assertions will be moved inside a <code>Then</code> block, and be replaced with the appropriate Kotest assertions.</p>
<p>The converted test is the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">import</span> io.kotest.core.spec.style.BehaviorSpec
<span style="color:#66d9ef">import</span> io.kotest.matchers.shouldBe

<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">HtmlMetaExtractorTest</span> : BehaviorSpec({
    <span style="color:#66d9ef">lateinit</span> <span style="color:#66d9ef">var</span> htmlMetaExtractorInTest: HtmlMetaExtractor

    beforeContainer {
        htmlMetaExtractorInTest = HtmlMetaExtractor()
    }

    Given(<span style="color:#e6db74">&#34;an HtmlMetaExtractor&#34;</span>) {
        When(<span style="color:#e6db74">&#34;it attempts to parse an empty string resource&#34;</span>) {
            <span style="color:#66d9ef">val</span> response = htmlMetaExtractorInTest.parseResource(<span style="color:#e6db74">&#34;&#34;</span>)

            Then(<span style="color:#e6db74">&#34;it returns an empty map&#34;</span>) {
                response shouldBe emptyMap()
            }
        }

        When(<span style="color:#e6db74">&#34;the HTML input contains an unknown META key attribute&#34;</span>) {
            <span style="color:#66d9ef">val</span> response =
                htmlMetaExtractorInTest.parseResource(HTML_DOCUMENT_WITH_UNKNOWN_ATTRIBUTE_META)

            Then(<span style="color:#e6db74">&#34;it returns an empty map&#34;</span>) {
                response shouldBe emptyMap()
            }
        }

        When(<span style="color:#e6db74">&#34;the HTML input contains supported META key attributes&#34;</span>) {
            <span style="color:#66d9ef">val</span> response =
                htmlMetaExtractorInTest.parseResource(HTML_DOCUMENT_WITH_ALL_SUPPORTED_TYPES_META)
            Then(<span style="color:#e6db74">&#34;it returns a map containing all META key-value pairs&#34;</span>) {
                response shouldBe mapOf(<span style="color:#e6db74">&#34;key-1&#34;</span> to <span style="color:#e6db74">&#34;value&#34;</span>, <span style="color:#e6db74">&#34;key-2&#34;</span> to <span style="color:#e6db74">&#34;value&#34;</span>, <span style="color:#e6db74">&#34;key-3&#34;</span> to <span style="color:#e6db74">&#34;value&#34;</span>)
            }
        }
    }
})
</code></pre></div><h2 id="a-more-advanced-example">A more advanced example</h2>
<p>A more complex example unit test conversion is presented below:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin">
<span style="color:#a6e22e">@ExperimentalCoroutinesApi</span>
<span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ResourceParserTest</span> {
    <span style="color:#a6e22e">@MockK</span>
    <span style="color:#66d9ef">lateinit</span> <span style="color:#66d9ef">var</span> mockResourceParserDelegate: ResourceParserDelegate

    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">lateinit</span> <span style="color:#66d9ef">var</span> objectInTest: ResourceParser

    <span style="color:#66d9ef">private</span> <span style="color:#66d9ef">val</span> testCoroutineDispatcher = TestCoroutineDispatcher()

    <span style="color:#a6e22e">@BeforeEach</span>
    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">setup</span>() {
        MockKAnnotations.<span style="color:#66d9ef">init</span>(<span style="color:#66d9ef">this</span>)
        objectInTest = ResourceParser(testCoroutineDispatcher)
    }

    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">`the resource parser delegates it&#39;s work to the supplied ResourceParserDelegate and returns the result to the caller`</span>() =
        runBlockingTest {
            <span style="color:#66d9ef">val</span> fakeResource = <span style="color:#e6db74">&#34;fake_resource&#34;</span>
            <span style="color:#66d9ef">val</span> expectedResult = mapOf(<span style="color:#e6db74">&#34;key&#34;</span> to <span style="color:#e6db74">&#34;value&#34;</span>)
            every { mockResourceParserDelegate.parseResource(fakeResource) } returns expectedResult

            <span style="color:#66d9ef">val</span> result = objectInTest.parseResource(mockResourceParserDelegate, fakeResource)

            verify { mockResourceParserDelegate.parseResource(fakeResource) }
            assertThat(result, _is(expectedResult))
        }

    <span style="color:#a6e22e">@Test</span>
    <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">`exceptions thrown by the ResourceParserDelegate are propagated to the caller`</span>() =
        runBlockingTest {
            <span style="color:#66d9ef">val</span> fakeResource = <span style="color:#e6db74">&#34;fake_resource&#34;</span>
            every { mockResourceParserDelegate.parseResource(fakeResource) } throws RuntimeException(
                <span style="color:#e6db74">&#34;Error&#34;</span>
            )

            assertThrows&lt;RuntimeException&gt; {
                objectInTest.parseResource(mockResourceParserDelegate, fakeResource)
            }
        }
}
</code></pre></div><p>This test requires a few more advanced features. Firstly, it requires the use of the <code>TestCoroutineDispatcher</code> - because it has an external dependency on the <code>CoroutineDispatcher</code> to be used for executing the code. It also requires using a mock to establish that a particular scenario leads to executing a specific method of the mock. Finally, it makes use of an assertion that determines whether a specific code path throws an exception and how that is handled.</p>
<p>A potential conversion of the tests shown above, to the BehaviorSpec in Kotest is the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">class</span> <span style="color:#a6e22e">ResourceParserTest</span> : BehaviorSpec({
    <span style="color:#66d9ef">lateinit</span> <span style="color:#66d9ef">var</span> mockResourceParserDelegate: ResourceParserDelegate
    <span style="color:#66d9ef">lateinit</span> <span style="color:#66d9ef">var</span> objectInTest: ResourceParser
    <span style="color:#66d9ef">val</span> testCoroutineDispatcher = TestCoroutineDispatcher()

    beforeContainer {
        mockResourceParserDelegate = mockk()
        objectInTest = ResourceParser(testCoroutineDispatcher)
    }

    Given(<span style="color:#e6db74">&#34;a ResourceParser&#34;</span>) {
        <span style="color:#66d9ef">val</span> fakeResource = <span style="color:#e6db74">&#34;fake_resource&#34;</span>
        When(<span style="color:#e6db74">&#34;it is requested to parse a resource&#34;</span>) {
            <span style="color:#66d9ef">val</span> expectedResult = mapOf(<span style="color:#e6db74">&#34;key&#34;</span> to <span style="color:#e6db74">&#34;value&#34;</span>)
            every { mockResourceParserDelegate.parseResource(fakeResource) } returns expectedResult

            <span style="color:#66d9ef">val</span> result = objectInTest.parseResource(mockResourceParserDelegate, fakeResource)
            Then(<span style="color:#e6db74">&#34;it produces the result by delegating its work to the supplied ResourceParserDelegate&#34;</span>) {
                verify { mockResourceParserDelegate.parseResource(fakeResource) }
                result shouldBe expectedResult
            }
        }

        When(<span style="color:#e6db74">&#34;an exception is thrown by the ResourceParserDelegate&#34;</span>) {
            every { mockResourceParserDelegate.parseResource(fakeResource) } throws RuntimeException(
                <span style="color:#e6db74">&#34;Error&#34;</span>
            )
            Then(<span style="color:#e6db74">&#34;it is propagated to the caller&#34;</span>) {
                shouldThrow&lt;RuntimeException&gt; {
                    objectInTest.parseResource(mockResourceParserDelegate, fakeResource)
                }
            }
        }
    }
})
</code></pre></div><p>In the Kotest version, you can no longer make use of annotations for initialising your mocks (as supported by popular mocking libraries, such as <a href="https://mockk.io/">mockk</a> and <a href="https://site.mockito.org/">mockito</a>). This is because the test is written in a lambda that is passed as a parameter in the BehaviorSpec constructor.Therefore, annoatations cannot be used for this purpose (at least with mockk, although this will also be the case for other libraries as well). The object in test is initialised before any containers are initialised (using a <code>beforeContainer</code> block), as in the previous case. The two tests share no common initialisation code (apart from a common variable), and there is no need to add another <code>beforeContainer</code> before the two <code>When</code> blocks. The <code>arrange-related</code> statements are placed at the beginning of the <code>When</code> blocks. In the first test, this is followed by the <code>act-related</code> statement which also stores the result, that is used inside the <code>assert-related</code> statements placed in the <code>Then</code> block. In the second test, the <code>act-related</code> and the <code>assert-related</code> statements are joined in a single <code>shouldThrow</code> block, because it tests whether an exception is thrown.</p>
<h2 id="ci-support">CI-support</h2>
<p>Kotest integrates very well with Intellij (and Android Studio) IDE, via its <a href="https://plugins.jetbrains.com/plugin/14080-kotest">official plugin</a>. However, since its structure is a radical departure from the standard JUnit format, the default JUnit report generated by the Gradle test plugin becomes unusable (the test count and the test names are wrong). This may be irrelevant when running your tests locally - it completely breaks potential (or current) CI integrations you may have. To overcome this limitation, the Kotest framework offers the <a href="https://kotest.io/docs/extensions/junit_xml.html">JUnit XML</a> extension, which writes a separate report file that correctly reports the tests executed and their results.</p>
<p>To set it up, you need to add the following line to your module&rsquo;s build gradle ($kotestVersion refers to the kotest version you use in your project):</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-groovy" data-lang="groovy">testImplementation <span style="color:#e6db74">&#34;io.kotest:kotest-extensions-junitxml:$kotestVersion&#34;</span>
</code></pre></div><p>To use the extension, you will need to create a subclass (either a class or object will do) of the <code>AbstractProjectConfig</code> class, which is automatically used by Kotest to configure the overall test project. You can see all available configuration options <a href="https://kotest.io/docs/framework/project-config.html">here</a>. In the subclass, you override the <code>listeners</code> function such that it returns a list with a new instance of the <code>JunitXmlReporter</code>. The subclass can reside anywhere in your test source set - Kotest will find and use it. An example is the following:</p>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-kotlin" data-lang="kotlin"><span style="color:#66d9ef">object</span> <span style="color:#a6e22e">MyKotestProjectConfig</span> : AbstractProjectConfig() {
    <span style="color:#66d9ef">override</span> <span style="color:#66d9ef">fun</span> <span style="color:#a6e22e">listeners</span>(): List&lt;Listener&gt; = listOf(
        JunitXmlReporter(
            includeContainers = <span style="color:#66d9ef">false</span>,
            useTestPathAsName = <span style="color:#66d9ef">true</span>
        )
    )
}
</code></pre></div><p>The constructor of the <code>JunitXmlReporter</code> takes two parameters:</p>
<ul>
<li>includeContainers - a boolean which indicates whether the XML report will include intermediate containers as separate line entries, not just <code>Then</code> blocks. Defaults to <code>false</code>. When set to <code>true</code>, it artificially increases the number of tests included (without much benefit).</li>
<li>useTestPathAsName - a boolean which indicates whether the name of the test in the report will include the complete path (the sequence of <code>Given</code>, <code>When</code>, <code>And</code>, <code>Then</code>) of the test, or just the final <code>Then</code> block. This defaults to <code>true</code>. When set to <code>false</code>, all test names will only include the leaf-<code>Then</code> blocks names.</li>
</ul>
<p>After running your tests, the correct JUnit XML reports (and only those, not the HTML report) will be found in your module&rsquo;s build directory, under the <code>test-results/test</code> subfolder. Note that the default, incorrect XML version of the test results <strong>will also</strong> be available under the <code>test-results/testXYZUnitText</code> (XYZ being the combination of flavor/build type used in running the tests).</p>
<p>Example code demonstrating the usage of the JUnit XML extension can be found <a href="https://github.com/gmetal/metador/commit/6ebbfcff67a27542363d9d2b5e7f8d91866c0346">here</a>.</p>

      </div>
    </article>

    <hr />

    <div class="post-info">
      
    <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-tag meta-icon"><path d="M20.59 13.41l-7.17 7.17a2 2 0 0 1-2.83 0L2 12V2h10l8.59 8.59a2 2 0 0 1 0 2.82z"></path><line x1="7" y1="7" x2="7" y2="7"></line></svg>

        <span class="tag"><a href="https://gmetal.dev/tags/android/">android</a></span>
        <span class="tag"><a href="https://gmetal.dev/tags/kotest/">kotest</a></span>
        <span class="tag"><a href="https://gmetal.dev/tags/unit-testing/">unit testing</a></span>
        <span class="tag"><a href="https://gmetal.dev/tags/bdd/">bdd</a></span>
        <span class="tag"><a href="https://gmetal.dev/tags/kotlin/">kotlin</a></span>
        <span class="tag"><a href="https://gmetal.dev/tags/metador/">metador</a></span>
        
    </p>

      

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file-text">
          <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
          <polyline points="14 2 14 8 20 8"></polyline>
          <line x1="16" y1="13" x2="8" y2="13"></line>
          <line x1="16" y1="17" x2="8" y2="17"></line>
          <polyline points="10 9 9 9 8 9"></polyline>
        </svg>
        3053 Words
      </p>

      <p>
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-calendar">
          <rect x="3" y="4" width="18" height="18" rx="2" ry="2"></rect>
          <line x1="16" y1="2" x2="16" y2="6"></line>
          <line x1="8" y1="2" x2="8" y2="6"></line>
          <line x1="3" y1="10" x2="21" y2="10"></line>
        </svg>
        
          2021-08-28 16:00
        

         
          
        
      </p>
    </div>
      <hr />
      <div class="sharing-buttons">
        
<a class="resp-sharing-button__link" href="https://facebook.com/sharer/sharer.php?u=https%3a%2f%2fgmetal.dev%2fposts%2fusing-kotest%2f" target="_blank" rel="noopener" aria-label="" title="Share on facebook">
  <div class="resp-sharing-button resp-sharing-button--facebook resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z"></path></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://twitter.com/intent/tweet/?url=https%3a%2f%2fgmetal.dev%2fposts%2fusing-kotest%2f" target="_blank" rel="noopener" aria-label="" title="Share on twitter">
  <div class="resp-sharing-button resp-sharing-button--twitter resp-sharing-button--small">
      <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
        <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M23 3a10.9 10.9 0 0 1-3.14 1.53 4.48 4.48 0 0 0-7.86 3v1A10.66 10.66 0 0 1 3 4s-4 9 5 13a11.64 11.64 0 0 1-7 2c9 5 20 0 20-11.5a4.5 4.5 0 0 0-.08-.83A7.72 7.72 0 0 0 23 3z"></path></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.tumblr.com/widgets/share/tool?posttype=link&amp;title=Using%20kotest%20in%20your%20Android%20project&amp;caption=Using%20kotest%20in%20your%20Android%20project&amp;canonicalUrl=https%3a%2f%2fgmetal.dev%2fposts%2fusing-kotest%2f" target="_blank" rel="noopener" aria-label="" title="Share on tumblr">
  <div class="resp-sharing-button resp-sharing-button--tumblr resp-sharing-button--small">
    <div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M14.563 24c-5.093 0-7.031-3.756-7.031-6.411V9.747H5.116V6.648c3.63-1.313 4.512-4.596 4.71-6.469C9.84.051 9.941 0 9.999 0h3.517v6.114h4.801v3.633h-4.82v7.47c.016 1.001.375 2.371 2.207 2.371h.09c.631-.02 1.486-.205 1.936-.419l1.156 3.425c-.436.636-2.4 1.374-4.156 1.404h-.178l.011.002z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="mailto:?subject=Using%20kotest%20in%20your%20Android%20project&amp;body=https%3a%2f%2fgmetal.dev%2fposts%2fusing-kotest%2f" target="_self" rel="noopener" aria-label="" title="Share via email">
  <div class="resp-sharing-button resp-sharing-button--email resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"></path><polyline points="22,6 12,13 2,6"></polyline></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://pinterest.com/pin/create/button/?url=https%3a%2f%2fgmetal.dev%2fposts%2fusing-kotest%2f&amp;media=https%3a%2f%2fgmetal.dev%2fposts%2fusing-kotest%2f;description=Using%20kotest%20in%20your%20Android%20project" target="_blank" rel="noopener" aria-label="" title="Share on pinterest">
  <div class="resp-sharing-button resp-sharing-button--pinterest resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M12.017 0C5.396 0 .029 5.367.029 11.987c0 5.079 3.158 9.417 7.618 11.162-.105-.949-.199-2.403.041-3.439.219-.937 1.406-5.957 1.406-5.957s-.359-.72-.359-1.781c0-1.663.967-2.911 2.168-2.911 1.024 0 1.518.769 1.518 1.688 0 1.029-.653 2.567-.992 3.992-.285 1.193.6 2.165 1.775 2.165 2.128 0 3.768-2.245 3.768-5.487 0-2.861-2.063-4.869-5.008-4.869-3.41 0-5.409 2.562-5.409 5.199 0 1.033.394 2.143.889 2.741.099.12.112.225.085.345-.09.375-.293 1.199-.334 1.363-.053.225-.172.271-.401.165-1.495-.69-2.433-2.878-2.433-4.646 0-3.776 2.748-7.252 7.92-7.252 4.158 0 7.392 2.967 7.392 6.923 0 4.135-2.607 7.462-6.233 7.462-1.214 0-2.354-.629-2.758-1.379l-.749 2.848c-.269 1.045-1.004 2.352-1.498 3.146 1.123.345 2.306.535 3.55.535 6.607 0 11.985-5.365 11.985-11.987C23.97 5.39 18.592.026 11.985.026L12.017 0z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.linkedin.com/shareArticle?mini=true&amp;url=https%3a%2f%2fgmetal.dev%2fposts%2fusing-kotest%2f&amp;title=Using%20kotest%20in%20your%20Android%20project&amp;summary=Using%20kotest%20in%20your%20Android%20project&amp;source=https%3a%2f%2fgmetal.dev%2fposts%2fusing-kotest%2f" target="_blank" rel="noopener" aria-label="" title="Share on linkedin">
  <div class="resp-sharing-button resp-sharing-button--linkedin resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z"></path><rect x="2" y="9" width="4" height="12"></rect><circle cx="4" cy="4" r="2"></circle></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://reddit.com/submit/?url=https%3a%2f%2fgmetal.dev%2fposts%2fusing-kotest%2f&amp;resubmit=true&amp;title=Using%20kotest%20in%20your%20Android%20project" target="_blank" rel="noopener" aria-label="" title="Share on reddit">
  <div class="resp-sharing-button resp-sharing-button--reddit resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M12 0A12 12 0 0 0 0 12a12 12 0 0 0 12 12 12 12 0 0 0 12-12A12 12 0 0 0 12 0zm5.01 4.744c.688 0 1.25.561 1.25 1.249a1.25 1.25 0 0 1-2.498.056l-2.597-.547-.8 3.747c1.824.07 3.48.632 4.674 1.488.308-.309.73-.491 1.207-.491.968 0 1.754.786 1.754 1.754 0 .716-.435 1.333-1.01 1.614a3.111 3.111 0 0 1 .042.52c0 2.694-3.13 4.87-7.004 4.87-3.874 0-7.004-2.176-7.004-4.87 0-.183.015-.366.043-.534A1.748 1.748 0 0 1 4.028 12c0-.968.786-1.754 1.754-1.754.463 0 .898.196 1.207.49 1.207-.883 2.878-1.43 4.744-1.487l.885-4.182a.342.342 0 0 1 .14-.197.35.35 0 0 1 .238-.042l2.906.617a1.214 1.214 0 0 1 1.108-.701zM9.25 12C8.561 12 8 12.562 8 13.25c0 .687.561 1.248 1.25 1.248.687 0 1.248-.561 1.248-1.249 0-.688-.561-1.249-1.249-1.249zm5.5 0c-.687 0-1.248.561-1.248 1.25 0 .687.561 1.248 1.249 1.248.688 0 1.249-.561 1.249-1.249 0-.687-.562-1.249-1.25-1.249zm-5.466 3.99a.327.327 0 0 0-.231.094.33.33 0 0 0 0 .463c.842.842 2.484.913 2.961.913.477 0 2.105-.056 2.961-.913a.361.361 0 0 0 .029-.463.33.33 0 0 0-.464 0c-.547.533-1.684.73-2.512.73-.828 0-1.979-.196-2.512-.73a.326.326 0 0 0-.232-.095z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://www.xing.com/app/user?op=share;url=https%3a%2f%2fgmetal.dev%2fposts%2fusing-kotest%2f;title=Using%20kotest%20in%20your%20Android%20project" target="_blank" rel="noopener" aria-label="" title="Share on xing">
  <div class="resp-sharing-button resp-sharing-button--xing resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M18.188 0c-.517 0-.741.325-.927.66 0 0-7.455 13.224-7.702 13.657.015.024 4.919 9.023 4.919 9.023.17.308.436.66.967.66h3.454c.211 0 .375-.078.463-.22.089-.151.089-.346-.009-.536l-4.879-8.916c-.004-.006-.004-.016 0-.022L22.139.756c.095-.191.097-.387.006-.535C22.056.078 21.894 0 21.686 0h-3.498zM3.648 4.74c-.211 0-.385.074-.473.216-.09.149-.078.339.02.531l2.34 4.05c.004.01.004.016 0 .021L1.86 16.051c-.099.188-.093.381 0 .529.085.142.239.234.45.234h3.461c.518 0 .766-.348.945-.667l3.734-6.609-2.378-4.155c-.172-.315-.434-.659-.962-.659H3.648v.016z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="whatsapp://send?text=Using%20kotest%20in%20your%20Android%20project%20https%3a%2f%2fgmetal.dev%2fposts%2fusing-kotest%2f" target="_blank" rel="noopener" aria-label="" title="Share on whatsapp">
  <div class="resp-sharing-button resp-sharing-button--whatsapp resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none" stroke-width="1" stroke-linecap="round" stroke-linejoin="round"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://news.ycombinator.com/submitlink?u=https%3a%2f%2fgmetal.dev%2fposts%2fusing-kotest%2f&amp;t=Using%20kotest%20in%20your%20Android%20project" target="_blank" rel="noopener" aria-label="" title="Share on hacker news">
  <div class="resp-sharing-button resp-sharing-button--hackernews resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
			<svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor" stroke="none"><path d="M0 24V0h24v24H0zM6.951 5.896l4.112 7.708v5.064h1.583v-4.972l4.148-7.799h-1.749l-2.457 4.875c-.372.745-.688 1.434-.688 1.434s-.297-.708-.651-1.434L8.831 5.896h-1.88z"/></svg>
    </div>
  </div>
</a>


<a class="resp-sharing-button__link" href="https://telegram.me/share/url?text=Using%20kotest%20in%20your%20Android%20project&amp;url=https%3a%2f%2fgmetal.dev%2fposts%2fusing-kotest%2f" target="_blank" rel="noopener" aria-label="" title="Share on telegram">
  <div class="resp-sharing-button resp-sharing-button--telegram resp-sharing-button--small"><div aria-hidden="true" class="resp-sharing-button__icon resp-sharing-button__icon--solid">
      <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><line x1="22" y1="2" x2="11" y2="13"></line><polygon points="22 2 15 22 11 13 2 9 22 2"></polygon></svg>
    </div>
  </div>
</a>

      </div>

    
    <div class="pagination">
        <div class="pagination__title">
            <span class="pagination__title-h">Read other posts</span>
            <hr />
        </div>

        <div class="pagination__buttons">
            
            <span class="button previous">
                <a href="https://gmetal.dev/posts/unit-testing-withtimeout-with-kotest/">
                    <span class="button__icon">←</span>
                    <span class="button__text">Unit Testing WithTimeout in Coroutines With Kotest</span>
                </a>
            </span>
            

            
            <span class="button next">
                <a href="https://gmetal.dev/posts/add-documentation-with-dokka/">
                    <span class="button__text">Adding documentation to a kotlin project with Dokka </span>
                    <span class="button__icon">→</span>
                </a>
            </span>
            
        </div>
    </div>


    

    

  </main>

            </div>

            
                <footer class="footer">
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>&copy; 2022</span>
            <span><a href="https://gmetal.dev/">George Metaxas</a></span>
            <span><a href="https://creativecommons.org/licenses/by-nc/4.0/" target="_blank" rel="noopener">CC BY-NC 4.0</a></span>
            <span><a href="https://gmetal.dev/posts/index.xml" target="_blank" title="rss"><svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 20 20" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-rss"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg></a></span>
            
        </div>
    </div>
    
    
    <div class="footer__inner">
        <div class="footer__content">
            <span>Powered by <a href="http://gohugo.io">Hugo</a></span><span>Made with &#10084; with <a href="https://github.com/rhazdon/hugo-theme-hello-friend-ng/">Hello Friend NG</a></span>
        </div>
    </div>
    
</footer>

            
        </div>

        



<script type="text/javascript" src="/bundle.min.599099f1f14b78b657d524b28e10e0c5098e7cd46e9c7aed73d577068a276c3ff1bb234cbf29cb313333e83cf411727b43157c91ce5b809e2ffc81664614608e.js" integrity="sha512-WZCZ8fFLeLZX1SSyjhDgxQmOfNRunHrtc9V3BoonbD/xuyNMvynLMTMz6Dz0EXJ7QxV8kc5bgJ4v/IFmRhRgjg=="></script>



    </body>
</html>
